@model ProjectManager.Models.ProjectContext

@{
    ViewBag.Title = "Edit";
    ViewBag.Page = "Projects";
}

<h2>Edit Project</h2>

<form action="/Projects/Edit" method="post" class="form-horizontal">
    <input type="hidden" name ="ProjectId" value="@Model.ProjectId" />
    <input type="hidden" name ="TenantId" value="@Model.TenantId" />

    <div class="form-group">
        <label for="projectName" class="col-sm-2">Title</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="projectName" name="Name" placeholder="(Untitled Project)" value="@Model.Name" autofocus="autofocus" />
        </div>
    </div>

    <div class="form-group">
        <label for="startDate" class="col-sm-2">Start Date</label>
        <div class="col-sm-10">
            <input type="date" class="form-control" id="startDate" name="RawDateStart" value="@Model.RawDateStart.ToString("yyyy-MM-dd")"/>
        </div>
    </div>

    <div class="form-group">
        <label for="endDate" class="col-sm-2">End Date</label>
        <div class="col-sm-10">
            <input type="date" class="form-control" id="endDate" name="RawDateEnd" value="@Model.RawDateEnd.ToString("yyyy-MM-dd")"/>
        </div>
    </div>

    <div class="form-group">
        <label for="status" class="col-sm-2">Status</label>
        <div class="col-sm-10">
            @Html.DropDownListFor(s => Model.StatusId,
                                  ProjectManager.Utils.DbUtils.GetStatusSelectItems(),
                                  new { id = "status", @class = "form-control" })
        </div>
    </div>

    <div class="form-group">
        <label for="manager" class="col-sm-2">Manager</label>
        <div class="col-sm-10">
            @Html.DropDownListFor(m => Model.ManagerId, new SelectList(ProjectManager.Utils.Auth.GetManagersAndAdmins(), "UserId", "Username"), new { id = "manager", @class = "form-control" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <input type="submit" value="Save Changes" class="btn btn-primary" />
            <a href="/Projects" class="btn btn-default">Discard Changes</a>
        </div>
    </div>
</form>
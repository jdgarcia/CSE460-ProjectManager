@model List<ProjectManager.Models.RequirementContext>

@{
    ViewBag.Title = "Index";
    ViewBag.Page = "Requirements";
}

<h2>Requirements</h2>

@{if(ProjectManager.Utils.Auth.GetCurrentUser().IsManager){
      <a href="/Requirements/Create" class="btn btn-success"><span class="glyphicon glyphicon-plus"></span> New Requirement</a>
}}


<br /><br />

@{  
    if (Model.Count == 0)
    {
        <p>No results found.</p>
    }
    else
    {
        <table class="projects">
            <thead>
                <tr>
                    <td>Description</td>
                    <td>Type</td>
                    <td>Time Expected (hrs.)</td>
                    <td>Assigned User</td>
                    <td>Status</td>
                    <td>Project</td>
                </tr>
            </thead>
        @foreach (var requirement in Model)
        {
            <tr>
                <td>@requirement.Description</td>
                <td>@requirement.Type</td>
                <td>@requirement.Time</td>
                <td>@requirement.AssignedUser</td>
                <td>@requirement.Status</td>
                <td><a class="project-name" href="/Projects/Details/@requirement.ProjectId">@requirement.ProjectName</a></td>
            </tr>
        }
        </table>
    }
}